name = "story-ui-mcp-edge"
main = "src/worker.ts"
compatibility_date = "2024-11-01"
compatibility_flags = ["nodejs_compat"]
# account_id = "YOUR_CLOUDFLARE_ACCOUNT_ID"  # Uncomment and set your Cloudflare account ID

[vars]
STORY_UI_VERSION = "3.0.0"
# Considerations are now dynamically fetched from the Storybook deployment's bundled JSON file
# See: .storybook/considerations-plugin.ts for the Vite plugin that bundles story-ui-docs/

# Durable Objects for session management
[[durable_objects.bindings]]
name = "MCP_SESSIONS"
class_name = "MCPSessionDO"

# Migrations for Durable Objects
[[migrations]]
tag = "v1"
new_classes = ["MCPSessionDO"]

# Development settings
[dev]
port = 8787
local_protocol = "http"

# Build configuration
[build]
command = "npm run build"

# Observability
[observability]
enabled = true
